!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";r.r(t);t.default=class{constructor(e=!1){"boolean"!=typeof e&&(e=!1),this._debug=e,this._idIncrementor=5678*Math.floor(Math.random()*Math.floor(256)),this._regularEvents=[],this._customEvents={},this.version="1.1.0"}destroy(){this._raise("log","CustomEvents.destroy"),this.removeAllEvents(),Object.keys(this).forEach(e=>{delete this[e]})}addEvent(e,t,r,s=t,n=!1){if(this._raise("log",`CustomEvents.addEvent: ${e} ${t} ${r} ${s} ${n}`),null==e||null==t||null==r)return this._raise("error","CustomEvents.addEvent: Missing mandatory arguments"),!1;const o=()=>{this._raise("error","CustomEvents.addEvent: Wrong type for argument")};return"string"!=typeof e||"object"!=typeof t||"function"!=typeof r||null!=s&&"object"!=typeof s||null!=n&&"object"!=typeof n&&"boolean"!=typeof n?(o(),!1):(r=r.bind(s),this._regularEvents.push({id:this._idIncrementor,element:t,eventName:e,scope:s,callback:r,options:n}),t.addEventListener(e,r,n),this._idIncrementor++)}removeEvent(e){if(this._raise("log","Events.removeEvent: "+e),null==e)return this._raise("error","CustomEvents.removeEvent: Missing mandatory arguments"),!1;if("number"!=typeof e)return this._raise("error","CustomEvents.removeEvent: Wrong type for argument"),!1;let t=!1;for(let r=this._regularEvents.length-1;r>=0;--r)this._regularEvents[r].id===e&&(t=!0,this._clearRegularEvent(r));return t}removeAllEvents(){this._raise("log","CustomEvents.removeAllEvents");let e=!1;const t=this._regularEvents.length>0;for(let e=this._regularEvents.length-1;e>=0;--e)this._clearRegularEvent(e);return 0===this._regularEvents.length&&t&&(e=!0),e}_clearRegularEvent(e){if(this._raise("log","CustomEvents._clearRegularEvent: "+e),null==e)return this._raise("error","CustomEvents._clearRegularEvent: Missing mandatory argument"),!1;if("number"!=typeof e)return this._raise("error","CustomEvents._clearRegularEvent: Wrong type for argument"),!1;if(this._regularEvents[e]){const t=this._regularEvents[e];return t.element.removeEventListener(t.eventName,t.callback,t.options),this._regularEvents.splice(e,1),!0}return!1}subscribe(e,t,r=!1){if(this._raise("log",`CustomEvents.subscribe: ${e} ${t} ${r}`),null==e||null==t)return this._raise("error","CustomEvents.subscribe","Missing mandatory arguments"),!1;const s=()=>{this._raise("error","CustomEvents.subscribe: Wrong type for argument")};return"string"!=typeof e||"function"!=typeof t||null!=r&&"boolean"!=typeof r?(s(),!1):(this._customEvents[e]||(this._customEvents[e]=[]),this._customEvents[e].push({id:this._idIncrementor,name:e,os:r,callback:t}),this._idIncrementor++)}unsubscribe(e){if(this._raise("log","CustomEvents.unsubscribe: "+e),null==e)return this._raise("error","CustomEvents.unsubscribe: Missing mandatory arguments"),!1;if("number"!=typeof e)return this._raise("error","CustomEvents.unsubscribe: Wrong type for argument"),!1;let t=!1;const r=Object.keys(this._customEvents);for(let s=r.length-1;s>=0;--s){const n=this._customEvents[r[s]];for(let o=0;o<n.length;++o)if(n[o].id===e){this._raise("log","CustomEvents.unsubscribe: subscription found\n",n[o],`\nSubscription n°${e} for ${n.name} has been removed`),t=!0,n.splice(o,1),0===n.length&&delete this._customEvents[r[s]];break}}return t}unsubscribeAllFor(e){if(this._raise("log","CustomEvents.unsubscribeAllFor: "+e),null==e)return this._raise("error","CustomEvents.unsubscribeAllFor: Missing mandatory arguments"),!1;if("string"!=typeof e)return this._raise("error","CustomEvents.unsubscribeAllFor: Wrong type for argument"),!1;let t=!1;const r=Object.keys(this._customEvents);for(let s=0;s<r.length;++s)if(r[s]===e){const e=this._customEvents[r[s]];for(let n=e.length-1;n>=0;--n)t=!0,e.splice(n,1),0===e.length&&delete this._customEvents[r[s]]}return t}publish(e,t=null){if(this._raise("log",`CustomEvents.publish: ${e} ${t}`),null==e)return this._raise("error","CustomEvents.publish: Missing mandatory arguments"),!1;if("string"!=typeof e||void 0!==t&&"object"!=typeof t)return this._raise("error","CustomEvents.publish: Wrong type for argument"),!1;let r=!1;const s=Object.keys(this._customEvents);for(let n=0;n<s.length;++n)if(s[n]===e){r=!0;const o=this._customEvents[s[n]];for(let r=o.length-1;r>=0;--r)this._raise("log",`CustomEvents.publish: fire callback for ${e}, subscription n°${o[r].id}`,o[r]),o[r].callback(t),o[r].os&&(this._raise("log","CustomEvents.publish: remove subscription because one shot usage is done"),o.splice(r,1),0===o.length&&delete this._customEvents[s[n]])}return r}_raise(e,t){this._debug&&console[e](t)}}}]);